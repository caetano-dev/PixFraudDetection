Loading processed data...
Loaded: 267,899 tx; accounts: 123,581
Time range: 2022-09-01 00:00:00 → 2022-09-16 13:24:00

-- 3-day windows, stride=1d --
[000] 2022-09-01 → 2022-09-04: nodes=97,910, edges=98,046, pos_edges=246, pos_nodes=452
[001] 2022-09-02 → 2022-09-05: nodes=80,129, edges=72,692, pos_edges=274, pos_nodes=490
[002] 2022-09-03 → 2022-09-06: nodes=51,102, edges=52,367, pos_edges=329, pos_nodes=564
[003] 2022-09-04 → 2022-09-07: nodes=50,519, edges=64,134, pos_edges=344, pos_nodes=602
[004] 2022-09-05 → 2022-09-08: nodes=50,910, edges=76,805, pos_edges=369, pos_nodes=655
[005] 2022-09-06 → 2022-09-09: nodes=50,802, edges=77,036, pos_edges=368, pos_nodes=649
[006] 2022-09-07 → 2022-09-10: nodes=74,126, edges=92,142, pos_edges=365, pos_nodes=645
[007] 2022-09-08 → 2022-09-11: nodes=73,873, edges=79,603, pos_edges=348, pos_nodes=608
[008] 2022-09-09 → 2022-09-12: nodes=68,930, edges=53,924, pos_edges=237, pos_nodes=407
[009] 2022-09-10 → 2022-09-13: nodes=21,246, edges=13,539, pos_edges=143, pos_nodes=238
[010] 2022-09-11 → 2022-09-14: nodes=88, edges=73, pos_edges=63, pos_nodes=88
[011] 2022-09-12 → 2022-09-15: nodes=57, edges=48, pos_edges=43, pos_nodes=57
[012] 2022-09-13 → 2022-09-16: nodes=44, edges=34, pos_edges=33, pos_nodes=44
[013] 2022-09-14 → 2022-09-17: nodes=21, edges=16, pos_edges=16, pos_nodes=21
[014] 2022-09-15 → 2022-09-18: nodes=12, edges=9, pos_edges=9, pos_nodes=12
[015] 2022-09-16 → 2022-09-19: nodes=6, edges=4, pos_edges=4, pos_nodes=6

-- 7-day windows, stride=1d --
[000] 2022-09-01 → 2022-09-08: nodes=113,513, edges=188,207, pos_edges=708, pos_nodes=1,231
[001] 2022-09-02 → 2022-09-09: nodes=97,187, edges=175,208, pos_edges=781, pos_nodes=1,335
[002] 2022-09-03 → 2022-09-10: nodes=91,448, edges=169,807, pos_edges=806, pos_nodes=1,367
[003] 2022-09-04 → 2022-09-11: nodes=91,369, edges=169,764, pos_edges=810, pos_nodes=1,370
[004] 2022-09-05 → 2022-09-12: nodes=87,298, edges=156,440, pos_edges=744, pos_nodes=1,249
[005] 2022-09-06 → 2022-09-13: nodes=82,953, edges=130,979, pos_edges=620, pos_nodes=1,037
[006] 2022-09-07 → 2022-09-14: nodes=78,894, edges=105,703, pos_edges=529, pos_nodes=877
[007] 2022-09-08 → 2022-09-15: nodes=73,924, edges=79,683, pos_edges=418, pos_nodes=683
[008] 2022-09-09 → 2022-09-16: nodes=68,963, edges=53,977, pos_edges=285, pos_nodes=457
[009] 2022-09-10 → 2022-09-17: nodes=21,277, edges=13,577, pos_edges=180, pos_nodes=276
[010] 2022-09-11 → 2022-09-18: nodes=105, edges=89, pos_edges=79, pos_nodes=105
[011] 2022-09-12 → 2022-09-19: nodes=66, edges=57, pos_edges=52, pos_nodes=66
[012] 2022-09-13 → 2022-09-20: nodes=48, edges=38, pos_edges=37, pos_nodes=48
[013] 2022-09-14 → 2022-09-21: nodes=21, edges=16, pos_edges=16, pos_nodes=21
[014] 2022-09-15 → 2022-09-22: nodes=12, edges=9, pos_edges=9, pos_nodes=12
[015] 2022-09-16 → 2022-09-23: nodes=6, edges=4, pos_edges=4, pos_nodes=6

Community baselines on full period:
Aggregated graph: 123,581 nodes, 104,058 edges

================================================================================
COMMUNITY DETECTION COMPARISON: LOUVAIN vs LEIDEN
================================================================================

────────────────────────────────────────────────────────────────────────────────
LOUVAIN COMMUNITIES
────────────────────────────────────────────────────────────────────────────────

================================================================================
DETAILED COMMUNITY ANALYSIS (Top 10)
================================================================================

────────────────────────────────────────────────────────────────────────────────
Rank #1 | Community ID: 7097 | Score: 0.917
────────────────────────────────────────────────────────────────────────────────
📊 Size: 14 nodes | Density: 0.143 | Internal edges: 13
🎯 Laundering: 0/14 nodes (0.0%)
💰 Total flow: $21,806,506.10 in / $21,806,506.10 out | 26 transactions
🏢 Entities: 14 unique | Banks: 14 unique
📈 Degree: avg=1.9, max=12
🌟 Hub node: 80FE86A20... (deg=12, entity=Partnership #825)

  Top 5 nodes by degree:
       80FE86A20            | deg= 12 | $21,343,544 in | $         0 out | Partnership #825
       80FE85BC0            | deg=  2 | $         0 in | $   469,825 out | Corporation #14278
       80FE841B0            | deg=  1 | $         0 in | $     3,008 out | Corporation #3163
       80FE85590            | deg=  1 | $         0 in | $    33,459 out | Partnership #7026
       80FE869D0            | deg=  1 | $         0 in | $    48,173 out | Sole Proprietorship #6003

────────────────────────────────────────────────────────────────────────────────
Rank #2 | Community ID: 23974 | Score: 0.914
────────────────────────────────────────────────────────────────────────────────
📊 Size: 11 nodes | Density: 0.182 | Internal edges: 10
🎯 Laundering: 0/11 nodes (0.0%)
💰 Total flow: $3,536,673.93 in / $3,536,673.93 out | 20 transactions
🏢 Entities: 11 unique | Banks: 11 unique
📈 Degree: avg=1.8, max=10
🌟 Hub node: 814222D30... (deg=10, entity=Corporation #22266)

  Top 5 nodes by degree:
       814222D30            | deg= 10 | $   181,436 in | $ 3,355,238 out | Corporation #22266
       81422A6E0            | deg=  1 | $         0 in | $       571 out | Partnership #13864
       8142260B0            | deg=  1 | $         0 in | $    27,843 out | Partnership #19145
       8142267E0            | deg=  1 | $         0 in | $    46,488 out | Corporation #22268
       814226240            | deg=  1 | $         0 in | $     2,234 out | Corporation #16404

────────────────────────────────────────────────────────────────────────────────
Rank #3 | Community ID: 14683 | Score: 0.914
────────────────────────────────────────────────────────────────────────────────
📊 Size: 16 nodes | Density: 0.125 | Internal edges: 15
🎯 Laundering: 0/16 nodes (0.0%)
💰 Total flow: $9,575,110.47 in / $9,575,110.47 out | 32 transactions
🏢 Entities: 16 unique | Banks: 16 unique
📈 Degree: avg=1.9, max=13
🌟 Hub node: 80B7E3DA0... (deg=13, entity=Partnership #9993)

  Top 5 nodes by degree:
       80B7E3DA0            | deg= 13 | $ 9,571,810 in | $         0 out | Partnership #9993
       80B7E7660            | deg=  2 | $     3,144 in | $ 3,842,232 out | Sole Proprietorship #5367
       80B7E72A0            | deg=  2 | $       157 in | $    29,044 out | Partnership #8594
       80B7E7B90            | deg=  1 | $         0 in | $    26,711 out | Partnership #8836
       80B7EC160            | deg=  1 | $         0 in | $    39,510 out | Partnership #14787

────────────────────────────────────────────────────────────────────────────────
Rank #4 | Community ID: 1756 | Score: 0.912
────────────────────────────────────────────────────────────────────────────────
📊 Size: 13 nodes | Density: 0.154 | Internal edges: 12
🎯 Laundering: 0/13 nodes (0.0%)
💰 Total flow: $8,314,575.15 in / $8,314,575.15 out | 24 transactions
🏢 Entities: 13 unique | Banks: 13 unique
📈 Degree: avg=1.8, max=11
🌟 Hub node: 80CA9C4D0... (deg=11, entity=Corporation #7350)

  Top 5 nodes by degree:
       80CA9C4D0            | deg= 11 | $   323,549 in | $         0 out | Corporation #7350
       80CAA93C0            | deg=  2 | $         0 in | $ 8,031,030 out | Partnership #9978
       80CAAB360            | deg=  1 | $         0 in | $     9,756 out | Sole Proprietorship #10142
       80CAAAC40            | deg=  1 | $         0 in | $    14,530 out | Corporation #11395
       80CAD9A60            | deg=  1 | $         0 in | $     4,289 out | Partnership #7404

────────────────────────────────────────────────────────────────────────────────
Rank #5 | Community ID: 4313 | Score: 0.911
────────────────────────────────────────────────────────────────────────────────
📊 Size: 17 nodes | Density: 0.118 | Internal edges: 16
🎯 Laundering: 0/17 nodes (0.0%)
💰 Total flow: $8,507,442.45 in / $8,507,442.45 out | 32 transactions
🏢 Entities: 17 unique | Banks: 15 unique
📈 Degree: avg=1.9, max=15
🌟 Hub node: 8066AB5C0... (deg=15, entity=Corporation #4145)

  Top 5 nodes by degree:
       8066AB5C0            | deg= 15 | $    39,077 in | $         0 out | Corporation #4145
       8066CFD70            | deg=  2 | $         0 in | $ 8,468,980 out | Partnership #9454
       8066AB570            | deg=  1 | $         0 in | $     2,421 out | Corporation #11174
       8066D0C10            | deg=  1 | $         0 in | $     2,255 out | Sole Proprietorship #26249
       8066ABDC0            | deg=  1 | $         0 in | $       120 out | Sole Proprietorship #24414

────────────────────────────────────────────────────────────────────────────────
Rank #6 | Community ID: 9373 | Score: 0.911
────────────────────────────────────────────────────────────────────────────────
📊 Size: 15 nodes | Density: 0.133 | Internal edges: 14
🎯 Laundering: 0/15 nodes (0.0%)
💰 Total flow: $2,451,082.34 in / $2,451,082.34 out | 28 transactions
🏢 Entities: 15 unique | Banks: 15 unique
📈 Degree: avg=1.9, max=13
🌟 Hub node: 800B460A0... (deg=13, entity=Partnership #4027)

  Top 5 nodes by degree:
       800B460A0            | deg= 13 | $    24,843 in | $ 2,404,849 out | Partnership #4027
       800B4B830            | deg=  2 | $    21,391 in | $     2,274 out | Corporation #13707
       800B3F500            | deg=  1 | $         0 in | $     3,798 out | Corporation #1720
       800B4B330            | deg=  1 | $         0 in | $     1,247 out | Sole Proprietorship #19969
       800B47560            | deg=  1 | $         0 in | $     1,626 out | Partnership #2598

────────────────────────────────────────────────────────────────────────────────
Rank #7 | Community ID: 25476 | Score: 0.910
────────────────────────────────────────────────────────────────────────────────
📊 Size: 12 nodes | Density: 0.167 | Internal edges: 11
🎯 Laundering: 0/12 nodes (0.0%)
💰 Total flow: $1,025,885.27 in / $1,025,885.27 out | 22 transactions
🏢 Entities: 12 unique | Banks: 12 unique
📈 Degree: avg=1.8, max=11
🌟 Hub node: 80B95BB70... (deg=11, entity=Corporation #11404)

  Top 5 nodes by degree:
       80B95BB70            | deg= 11 | $ 1,025,885 in | $         0 out | Corporation #11404
       80B959990            | deg=  1 | $         0 in | $     2,304 out | Partnership #10554
       80B957EF0            | deg=  1 | $         0 in | $     1,505 out | Corporation #15536
       80B95B080            | deg=  1 | $         0 in | $     2,068 out | Corporation #2528
       80B958900            | deg=  1 | $         0 in | $ 1,003,558 out | Partnership #3858

────────────────────────────────────────────────────────────────────────────────
Rank #8 | Community ID: 26344 | Score: 0.909
────────────────────────────────────────────────────────────────────────────────
📊 Size: 15 nodes | Density: 0.133 | Internal edges: 14
🎯 Laundering: 0/15 nodes (0.0%)
💰 Total flow: $1,900,823.98 in / $1,900,823.98 out | 28 transactions
🏢 Entities: 15 unique | Banks: 15 unique
📈 Degree: avg=1.9, max=14
🌟 Hub node: 81A5BB250... (deg=14, entity=Corporation #9304)

  Top 5 nodes by degree:
       81A5BB250            | deg= 14 | $ 1,900,824 in | $         0 out | Corporation #9304
       81A5BB840            | deg=  1 | $         0 in | $     1,907 out | Corporation #64335
       81A5BC570            | deg=  1 | $         0 in | $     1,947 out | Partnership #25615
       81A5BF160            | deg=  1 | $         0 in | $     1,038 out | Sole Proprietorship #13481
       81A5BBB00            | deg=  1 | $         0 in | $     1,781 out | Corporation #14975

────────────────────────────────────────────────────────────────────────────────
Rank #9 | Community ID: 13516 | Score: 0.909
────────────────────────────────────────────────────────────────────────────────
📊 Size: 15 nodes | Density: 0.133 | Internal edges: 14
🎯 Laundering: 0/15 nodes (0.0%)
💰 Total flow: $5,745,548.55 in / $5,745,548.55 out | 48 transactions
🏢 Entities: 15 unique | Banks: 15 unique
📈 Degree: avg=1.9, max=12
🌟 Hub node: 8160D8350... (deg=12, entity=Sole Proprietorship #21346)

  Top 5 nodes by degree:
       8160D8350            | deg= 12 | $    32,665 in | $         0 out | Sole Proprietorship #21346
       8160D8210            | deg=  2 | $ 5,712,702 in | $     3,567 out | Partnership #49141
       8160D8660            | deg=  2 | $       181 in | $     3,357 out | Partnership #21962
       8160D83A0            | deg=  1 | $         0 in | $       181 out | Corporation #64716
       8160C0410            | deg=  1 | $         0 in | $     1,417 out | Corporation #23783

────────────────────────────────────────────────────────────────────────────────
Rank #10 | Community ID: 259 | Score: 0.909
────────────────────────────────────────────────────────────────────────────────
📊 Size: 18 nodes | Density: 0.111 | Internal edges: 17
🎯 Laundering: 0/18 nodes (0.0%)
💰 Total flow: $25,255,702.40 in / $25,255,702.40 out | 46 transactions
🏢 Entities: 18 unique | Banks: 18 unique
📈 Degree: avg=1.9, max=14
🌟 Hub node: 80C14EA40... (deg=14, entity=Sole Proprietorship #9742)

  Top 5 nodes by degree:
       80C14EA40            | deg= 14 | $25,228,229 in | $         0 out | Sole Proprietorship #9742
       80C14DDA0            | deg=  2 | $         0 in | $    49,373 out | Sole Proprietorship #2899
       80C1497D0            | deg=  2 | $     3,950 in | $    49,160 out | Corporation #11346
       80C14D240            | deg=  2 | $    17,257 in | $ 3,605,141 out | Sole Proprietorship #15548
       80C14DD50            | deg=  1 | $         0 in | $    39,802 out | Partnership #5230

💾 Community summary saved to: /content/drive/MyDrive/AML/processed/LI_Small/US_Dollar/metrics/communities/louvain/community_summary.csv
💾 Community members saved to: /content/drive/MyDrive/AML/processed/LI_Small/US_Dollar/metrics/communities/louvain/community_members.csv

────────────────────────────────────────────────────────────────────────────────
LEIDEN COMMUNITIES
────────────────────────────────────────────────────────────────────────────────

================================================================================
DETAILED COMMUNITY ANALYSIS (Top 10)
================================================================================

────────────────────────────────────────────────────────────────────────────────
Rank #1 | Community ID: 1204 | Score: 0.917
────────────────────────────────────────────────────────────────────────────────
📊 Size: 14 nodes | Density: 0.143 | Internal edges: 13
🎯 Laundering: 0/14 nodes (0.0%)
💰 Total flow: $21,806,506.10 in / $21,806,506.10 out | 26 transactions
🏢 Entities: 14 unique | Banks: 14 unique
📈 Degree: avg=1.9, max=12
🌟 Hub node: 80FE86A20... (deg=12, entity=Partnership #825)

  Top 5 nodes by degree:
       80FE86A20            | deg= 12 | $21,343,544 in | $         0 out | Partnership #825
       80FE85BC0            | deg=  2 | $         0 in | $   469,825 out | Corporation #14278
       80FE841B0            | deg=  1 | $         0 in | $     3,008 out | Corporation #3163
       80FE85590            | deg=  1 | $         0 in | $    33,459 out | Partnership #7026
       80FE869D0            | deg=  1 | $         0 in | $    48,173 out | Sole Proprietorship #6003

────────────────────────────────────────────────────────────────────────────────
Rank #2 | Community ID: 1650 | Score: 0.914
────────────────────────────────────────────────────────────────────────────────
📊 Size: 11 nodes | Density: 0.182 | Internal edges: 10
🎯 Laundering: 0/11 nodes (0.0%)
💰 Total flow: $3,536,673.93 in / $3,536,673.93 out | 20 transactions
🏢 Entities: 11 unique | Banks: 11 unique
📈 Degree: avg=1.8, max=10
🌟 Hub node: 814222D30... (deg=10, entity=Corporation #22266)

  Top 5 nodes by degree:
       814222D30            | deg= 10 | $   181,436 in | $ 3,355,238 out | Corporation #22266
       81422A6E0            | deg=  1 | $         0 in | $       571 out | Partnership #13864
       8142260B0            | deg=  1 | $         0 in | $    27,843 out | Partnership #19145
       8142267E0            | deg=  1 | $         0 in | $    46,488 out | Corporation #22268
       814226240            | deg=  1 | $         0 in | $     2,234 out | Corporation #16404

────────────────────────────────────────────────────────────────────────────────
Rank #3 | Community ID: 1019 | Score: 0.914
────────────────────────────────────────────────────────────────────────────────
📊 Size: 16 nodes | Density: 0.125 | Internal edges: 15
🎯 Laundering: 0/16 nodes (0.0%)
💰 Total flow: $9,575,110.47 in / $9,575,110.47 out | 32 transactions
🏢 Entities: 16 unique | Banks: 16 unique
📈 Degree: avg=1.9, max=13
🌟 Hub node: 80B7E3DA0... (deg=13, entity=Partnership #9993)

  Top 5 nodes by degree:
       80B7E3DA0            | deg= 13 | $ 9,571,810 in | $         0 out | Partnership #9993
       80B7E7660            | deg=  2 | $     3,144 in | $ 3,842,232 out | Sole Proprietorship #5367
       80B7E72A0            | deg=  2 | $       157 in | $    29,044 out | Partnership #8594
       80B7E7B90            | deg=  1 | $         0 in | $    26,711 out | Partnership #8836
       80B7EC160            | deg=  1 | $         0 in | $    39,510 out | Partnership #14787

────────────────────────────────────────────────────────────────────────────────
Rank #4 | Community ID: 1317 | Score: 0.912
────────────────────────────────────────────────────────────────────────────────
📊 Size: 13 nodes | Density: 0.154 | Internal edges: 12
🎯 Laundering: 0/13 nodes (0.0%)
💰 Total flow: $8,314,575.15 in / $8,314,575.15 out | 24 transactions
🏢 Entities: 13 unique | Banks: 13 unique
📈 Degree: avg=1.8, max=11
🌟 Hub node: 80CA9C4D0... (deg=11, entity=Corporation #7350)

  Top 5 nodes by degree:
       80CA9C4D0            | deg= 11 | $   323,549 in | $         0 out | Corporation #7350
       80CAA93C0            | deg=  2 | $         0 in | $ 8,031,030 out | Partnership #9978
       80CAAB360            | deg=  1 | $         0 in | $     9,756 out | Sole Proprietorship #10142
       80CAAAC40            | deg=  1 | $         0 in | $    14,530 out | Corporation #11395
       80CAD9A60            | deg=  1 | $         0 in | $     4,289 out | Partnership #7404

────────────────────────────────────────────────────────────────────────────────
Rank #5 | Community ID: 942 | Score: 0.911
────────────────────────────────────────────────────────────────────────────────
📊 Size: 17 nodes | Density: 0.118 | Internal edges: 16
🎯 Laundering: 0/17 nodes (0.0%)
💰 Total flow: $8,507,442.45 in / $8,507,442.45 out | 32 transactions
🏢 Entities: 17 unique | Banks: 15 unique
📈 Degree: avg=1.9, max=15
🌟 Hub node: 8066AB5C0... (deg=15, entity=Corporation #4145)

  Top 5 nodes by degree:
       8066AB5C0            | deg= 15 | $    39,077 in | $         0 out | Corporation #4145
       8066CFD70            | deg=  2 | $         0 in | $ 8,468,980 out | Partnership #9454
       8066AB570            | deg=  1 | $         0 in | $     2,421 out | Corporation #11174
       8066D0C10            | deg=  1 | $         0 in | $     2,255 out | Sole Proprietorship #26249
       8066ABDC0            | deg=  1 | $         0 in | $       120 out | Sole Proprietorship #24414

────────────────────────────────────────────────────────────────────────────────
Rank #6 | Community ID: 1101 | Score: 0.911
────────────────────────────────────────────────────────────────────────────────
📊 Size: 15 nodes | Density: 0.133 | Internal edges: 14
🎯 Laundering: 0/15 nodes (0.0%)
💰 Total flow: $2,451,082.34 in / $2,451,082.34 out | 28 transactions
🏢 Entities: 15 unique | Banks: 15 unique
📈 Degree: avg=1.9, max=13
🌟 Hub node: 800B460A0... (deg=13, entity=Partnership #4027)

  Top 5 nodes by degree:
       800B460A0            | deg= 13 | $    24,843 in | $ 2,404,849 out | Partnership #4027
       800B4B830            | deg=  2 | $    21,391 in | $     2,274 out | Corporation #13707
       800B3F500            | deg=  1 | $         0 in | $     3,798 out | Corporation #1720
       800B4B330            | deg=  1 | $         0 in | $     1,247 out | Sole Proprietorship #19969
       800B47560            | deg=  1 | $         0 in | $     1,626 out | Partnership #2598

────────────────────────────────────────────────────────────────────────────────
Rank #7 | Community ID: 1465 | Score: 0.910
────────────────────────────────────────────────────────────────────────────────
📊 Size: 12 nodes | Density: 0.167 | Internal edges: 11
🎯 Laundering: 0/12 nodes (0.0%)
💰 Total flow: $1,025,885.27 in / $1,025,885.27 out | 22 transactions
🏢 Entities: 12 unique | Banks: 12 unique
📈 Degree: avg=1.8, max=11
🌟 Hub node: 80B95BB70... (deg=11, entity=Corporation #11404)

  Top 5 nodes by degree:
       80B95BB70            | deg= 11 | $ 1,025,885 in | $         0 out | Corporation #11404
       80B959990            | deg=  1 | $         0 in | $     2,304 out | Partnership #10554
       80B957EF0            | deg=  1 | $         0 in | $     1,505 out | Corporation #15536
       80B95B080            | deg=  1 | $         0 in | $     2,068 out | Corporation #2528
       80B958900            | deg=  1 | $         0 in | $ 1,003,558 out | Partnership #3858

────────────────────────────────────────────────────────────────────────────────
Rank #8 | Community ID: 1112 | Score: 0.909
────────────────────────────────────────────────────────────────────────────────
📊 Size: 15 nodes | Density: 0.133 | Internal edges: 14
🎯 Laundering: 0/15 nodes (0.0%)
💰 Total flow: $1,900,823.98 in / $1,900,823.98 out | 28 transactions
🏢 Entities: 15 unique | Banks: 15 unique
📈 Degree: avg=1.9, max=14
🌟 Hub node: 81A5BB250... (deg=14, entity=Corporation #9304)

  Top 5 nodes by degree:
       81A5BB250            | deg= 14 | $ 1,900,824 in | $         0 out | Corporation #9304
       81A5BB840            | deg=  1 | $         0 in | $     1,907 out | Corporation #64335
       81A5BC570            | deg=  1 | $         0 in | $     1,947 out | Partnership #25615
       81A5BF160            | deg=  1 | $         0 in | $     1,038 out | Sole Proprietorship #13481
       81A5BBB00            | deg=  1 | $         0 in | $     1,781 out | Corporation #14975

────────────────────────────────────────────────────────────────────────────────
Rank #9 | Community ID: 1088 | Score: 0.909
────────────────────────────────────────────────────────────────────────────────
📊 Size: 15 nodes | Density: 0.133 | Internal edges: 14
🎯 Laundering: 0/15 nodes (0.0%)
💰 Total flow: $5,745,548.55 in / $5,745,548.55 out | 48 transactions
🏢 Entities: 15 unique | Banks: 15 unique
📈 Degree: avg=1.9, max=12
🌟 Hub node: 8160D8350... (deg=12, entity=Sole Proprietorship #21346)

  Top 5 nodes by degree:
       8160D8350            | deg= 12 | $    32,665 in | $         0 out | Sole Proprietorship #21346
       8160D8210            | deg=  2 | $ 5,712,702 in | $     3,567 out | Partnership #49141
       8160D8660            | deg=  2 | $       181 in | $     3,357 out | Partnership #21962
       8160D83A0            | deg=  1 | $         0 in | $       181 out | Corporation #64716
       8160C0410            | deg=  1 | $         0 in | $     1,417 out | Corporation #23783

────────────────────────────────────────────────────────────────────────────────
Rank #10 | Community ID: 850 | Score: 0.909
────────────────────────────────────────────────────────────────────────────────
📊 Size: 18 nodes | Density: 0.111 | Internal edges: 17
🎯 Laundering: 0/18 nodes (0.0%)
💰 Total flow: $92,792,811.05 in / $92,792,811.05 out | 34 transactions
🏢 Entities: 18 unique | Banks: 18 unique
📈 Degree: avg=1.9, max=14
🌟 Hub node: 81461D0A0... (deg=14, entity=Sole Proprietorship #16708)

  Top 5 nodes by degree:
       81461D0A0            | deg= 14 | $    38,334 in | $         0 out | Sole Proprietorship #16708
       814621030            | deg=  2 | $     9,050 in | $     2,322 out | Corporation #1538
       81461E7C0            | deg=  2 | $         0 in | $    76,734 out | Sole Proprietorship #3204
       814621940            | deg=  2 | $92,673,675 in | $     1,456 out | Sole Proprietorship #21760
       814610FE0            | deg=  1 | $         0 in | $     9,050 out | Corporation #6293

💾 Community summary saved to: /content/drive/MyDrive/AML/processed/LI_Small/US_Dollar/metrics/communities/leiden/community_summary.csv
💾 Community members saved to: /content/drive/MyDrive/AML/processed/LI_Small/US_Dollar/metrics/communities/leiden/community_members.csv

================================================================================
COMPARISON SUMMARY
================================================================================

Louvain: 27313 communities
Leiden:  27301 communities

Top community comparison:
  Louvain top: size=14, laundering=0.0%, score=0.917
  Leiden top:  size=14, laundering=0.0%, score=0.917

Average laundering % in top 10 communities:
  Louvain: 0.0%
  Leiden:  0.0%
Global seeds cutoff T=2022-09-05 16:01:12 | seed_nodes=743
PPR config: alpha=0.85, hops=5, bidir=False

Processing windows (metrics + preview):

-- 3-day windows --
[2022-09-01 → 2022-09-04] nodes=97,910, edges=69,578
  Top methods: {'in_deg': {'ap': 0.0205, 'p_at_0.5pct': 0.0757, 'p_at_1.0pct': 0.0725, 'p_at_2.0pct': 0.0521, 'p_at_5.0pct': 0.0247}, 'pagerank_wlog': {'ap': 0.02, 'p_at_0.5pct': 0.0491, 'p_at_1.0pct': 0.0633, 'p_at_2.0pct': 0.046, 'p_at_5.0pct': 0.0239}, 'pattern_features': {'ap': 0.0067, 'p_at_0.5pct': 0.0061, 'p_at_1.0pct': 0.0031, 'p_at_2.0pct': 0.0051, 'p_at_5.0pct': 0.0033}, 'ensemble_ultimate': {'ap': 0.015, 'p_at_0.5pct': 0.0552, 'p_at_1.0pct': 0.0531, 'p_at_2.0pct': 0.0301, 'p_at_5.0pct': 0.0165}, 'ensemble_top3': {'ap': 0.021, 'p_at_0.5pct': 0.0716, 'p_at_1.0pct': 0.0654, 'p_at_2.0pct': 0.0506, 'p_at_5.0pct': 0.0229}}
  Avg community score (Louvain): 0.2271 | (Leiden): 0.2270
[2022-09-02 → 2022-09-05] nodes=80,129, edges=56,372
  Top methods: {'in_deg': {'ap': 0.0207, 'p_at_0.5pct': 0.08, 'p_at_1.0pct': 0.0774, 'p_at_2.0pct': 0.0593, 'p_at_5.0pct': 0.0292}, 'pagerank_wlog': {'ap': 0.0216, 'p_at_0.5pct': 0.0675, 'p_at_1.0pct': 0.0799, 'p_at_2.0pct': 0.0524, 'p_at_5.0pct': 0.029}, 'pattern_features': {'ap': 0.0086, 'p_at_0.5pct': 0.005, 'p_at_1.0pct': 0.0025, 'p_at_2.0pct': 0.0037, 'p_at_5.0pct': 0.0052}, 'ensemble_ultimate': {'ap': 0.0169, 'p_at_0.5pct': 0.07, 'p_at_1.0pct': 0.0612, 'p_at_2.0pct': 0.0393, 'p_at_5.0pct': 0.0212}, 'ensemble_top3': {'ap': 0.0225, 'p_at_0.5pct': 0.075, 'p_at_1.0pct': 0.0787, 'p_at_2.0pct': 0.0618, 'p_at_5.0pct': 0.0287}}
  Avg community score (Louvain): 0.2295 | (Leiden): 0.2295
[2022-09-03 → 2022-09-06] nodes=51,102, edges=36,066
  Top methods: {'in_deg': {'ap': 0.0249, 'p_at_0.5pct': 0.051, 'p_at_1.0pct': 0.0822, 'p_at_2.0pct': 0.0773, 'p_at_5.0pct': 0.0481}, 'pagerank_wlog': {'ap': 0.0277, 'p_at_0.5pct': 0.0941, 'p_at_1.0pct': 0.0685, 'p_at_2.0pct': 0.0802, 'p_at_5.0pct': 0.0466}, 'pattern_features': {'ap': 0.0117, 'p_at_0.5pct': 0.0196, 'p_at_1.0pct': 0.0117, 'p_at_2.0pct': 0.0068, 'p_at_5.0pct': 0.0059}, 'ensemble_ultimate': {'ap': 0.0199, 'p_at_0.5pct': 0.0784, 'p_at_1.0pct': 0.0724, 'p_at_2.0pct': 0.0577, 'p_at_5.0pct': 0.0278}, 'ensemble_top3': {'ap': 0.0267, 'p_at_0.5pct': 0.0471, 'p_at_1.0pct': 0.0881, 'p_at_2.0pct': 0.0763, 'p_at_5.0pct': 0.0521}}
  Avg community score (Louvain): 0.2444 | (Leiden): 0.2444
[2022-09-04 → 2022-09-07] nodes=50,519, edges=35,624
  Top methods: {'in_deg': {'ap': 0.024, 'p_at_0.5pct': 0.0476, 'p_at_1.0pct': 0.0693, 'p_at_2.0pct': 0.0614, 'p_at_5.0pct': 0.0507}, 'pagerank_wlog': {'ap': 0.0248, 'p_at_0.5pct': 0.0754, 'p_at_1.0pct': 0.0634, 'p_at_2.0pct': 0.0663, 'p_at_5.0pct': 0.0483}, 'pattern_features': {'ap': 0.0102, 'p_at_0.5pct': 0.0119, 'p_at_1.0pct': 0.0099, 'p_at_2.0pct': 0.0059, 'p_at_5.0pct': 0.0071}, 'ensemble_ultimate': {'ap': 0.0158, 'p_at_0.5pct': 0.0556, 'p_at_1.0pct': 0.0614, 'p_at_2.0pct': 0.0436, 'p_at_5.0pct': 0.023}, 'ensemble_top3': {'ap': 0.0237, 'p_at_0.5pct': 0.0437, 'p_at_1.0pct': 0.0772, 'p_at_2.0pct': 0.0634, 'p_at_5.0pct': 0.0515}}
  Avg community score (Louvain): 0.2457 | (Leiden): 0.2457
[2022-09-05 → 2022-09-08] nodes=50,910, edges=36,063
  Top methods: {'in_deg': {'ap': 0.0251, 'p_at_0.5pct': 0.063, 'p_at_1.0pct': 0.0589, 'p_at_2.0pct': 0.0619, 'p_at_5.0pct': 0.0546}, 'pagerank_wlog': {'ap': 0.0263, 'p_at_0.5pct': 0.0591, 'p_at_1.0pct': 0.0589, 'p_at_2.0pct': 0.0747, 'p_at_5.0pct': 0.0523}, 'pattern_features': {'ap': 0.0095, 'p_at_0.5pct': 0.0236, 'p_at_1.0pct': 0.0118, 'p_at_2.0pct': 0.0069, 'p_at_5.0pct': 0.0079}, 'ensemble_ultimate': {'ap': 0.0173, 'p_at_0.5pct': 0.0591, 'p_at_1.0pct': 0.0629, 'p_at_2.0pct': 0.0521, 'p_at_5.0pct': 0.0263}, 'ensemble_top3': {'ap': 0.0243, 'p_at_0.5pct': 0.063, 'p_at_1.0pct': 0.057, 'p_at_2.0pct': 0.0639, 'p_at_5.0pct': 0.0558}}
  Avg community score (Louvain): 0.2466 | (Leiden): 0.2466
  🔍 PPR Debug: alpha=0.85, hops=5, bidir=False
     Computed 398 seeded_pr scores
     Sample scores: ['0.002787', '0.002787', '0.002787', '0.002369', '0.002014']
[2022-09-06 → 2022-09-09] nodes=50,802, edges=36,286
  Top methods: {'in_deg': {'ap': 0.0256, 'p_at_0.5pct': 0.0751, 'p_at_1.0pct': 0.0652, 'p_at_2.0pct': 0.0623, 'p_at_5.0pct': 0.0545}, 'pagerank_wlog': {'ap': 0.0253, 'p_at_0.5pct': 0.0553, 'p_at_1.0pct': 0.0711, 'p_at_2.0pct': 0.0652, 'p_at_5.0pct': 0.0498}, 'pattern_features': {'ap': 0.0086, 'p_at_0.5pct': 0.0079, 'p_at_1.0pct': 0.004, 'p_at_2.0pct': 0.003, 'p_at_5.0pct': 0.0036}, 'ensemble_ultimate': {'ap': 0.015, 'p_at_0.5pct': 0.0711, 'p_at_1.0pct': 0.0672, 'p_at_2.0pct': 0.0445, 'p_at_5.0pct': 0.0237}, 'ensemble_top3': {'ap': 0.0241, 'p_at_0.5pct': 0.0711, 'p_at_1.0pct': 0.0613, 'p_at_2.0pct': 0.0662, 'p_at_5.0pct': 0.0545}}
  Avg community score (Louvain): 0.2461 | (Leiden): 0.2461
  PersonalizedPageRank PR-AUC: 0.0159
  🔍 PPR Debug: alpha=0.85, hops=5, bidir=False
     Computed 516 seeded_pr scores
     Sample scores: ['0.002366', '0.002366', '0.002366', '0.002366', '0.002366']
[2022-09-07 → 2022-09-10] nodes=74,126, edges=51,413
  Top methods: {'in_deg': {'ap': 0.0208, 'p_at_0.5pct': 0.0732, 'p_at_1.0pct': 0.0772, 'p_at_2.0pct': 0.063, 'p_at_5.0pct': 0.0366}, 'pagerank_wlog': {'ap': 0.0199, 'p_at_0.5pct': 0.0705, 'p_at_1.0pct': 0.0664, 'p_at_2.0pct': 0.0555, 'p_at_5.0pct': 0.0328}, 'pattern_features': {'ap': 0.0076, 'p_at_0.5pct': 0.0136, 'p_at_1.0pct': 0.0068, 'p_at_2.0pct': 0.0061, 'p_at_5.0pct': 0.0049}, 'ensemble_ultimate': {'ap': 0.0154, 'p_at_0.5pct': 0.0786, 'p_at_1.0pct': 0.061, 'p_at_2.0pct': 0.0366, 'p_at_5.0pct': 0.0217}, 'ensemble_top3': {'ap': 0.0205, 'p_at_0.5pct': 0.0732, 'p_at_1.0pct': 0.0732, 'p_at_2.0pct': 0.0548, 'p_at_5.0pct': 0.0344}}
  Avg community score (Louvain): 0.2115 | (Leiden): 0.2115
  PersonalizedPageRank PR-AUC: 0.0100
  🔍 PPR Debug: alpha=0.85, hops=5, bidir=False
     Computed 513 seeded_pr scores
     Sample scores: ['0.002027', '0.002385', '0.002385', '0.002027', '0.001244']
[2022-09-08 → 2022-09-11] nodes=73,873, edges=51,100
  Top methods: {'in_deg': {'ap': 0.0207, 'p_at_0.5pct': 0.0788, 'p_at_1.0pct': 0.0774, 'p_at_2.0pct': 0.0632, 'p_at_5.0pct': 0.0351}, 'pagerank_wlog': {'ap': 0.021, 'p_at_0.5pct': 0.0625, 'p_at_1.0pct': 0.0747, 'p_at_2.0pct': 0.0605, 'p_at_5.0pct': 0.0348}, 'pattern_features': {'ap': 0.0101, 'p_at_0.5pct': 0.0136, 'p_at_1.0pct': 0.0082, 'p_at_2.0pct': 0.0068, 'p_at_5.0pct': 0.0054}, 'ensemble_ultimate': {'ap': 0.0157, 'p_at_0.5pct': 0.0679, 'p_at_1.0pct': 0.0679, 'p_at_2.0pct': 0.0387, 'p_at_5.0pct': 0.0212}, 'ensemble_top3': {'ap': 0.0214, 'p_at_0.5pct': 0.0788, 'p_at_1.0pct': 0.0774, 'p_at_2.0pct': 0.0591, 'p_at_5.0pct': 0.0345}}
  Avg community score (Louvain): 0.2102 | (Leiden): 0.2102
  PersonalizedPageRank PR-AUC: 0.0094
  🔍 PPR Debug: alpha=0.85, hops=5, bidir=False
     Computed 453 seeded_pr scores
     Sample scores: ['0.002671', '0.000416', '0.002671', '0.001315', '0.002270']
[2022-09-09 → 2022-09-12] nodes=68,930, edges=45,789
  Top methods: {'in_deg': {'ap': 0.0162, 'p_at_0.5pct': 0.0671, 'p_at_1.0pct': 0.07, 'p_at_2.0pct': 0.043, 'p_at_5.0pct': 0.025}, 'pagerank_wlog': {'ap': 0.0158, 'p_at_0.5pct': 0.0583, 'p_at_1.0pct': 0.0627, 'p_at_2.0pct': 0.0452, 'p_at_5.0pct': 0.0239}, 'pattern_features': {'ap': 0.0102, 'p_at_0.5pct': 0.0058, 'p_at_1.0pct': 0.0044, 'p_at_2.0pct': 0.0044, 'p_at_5.0pct': 0.0055}, 'ensemble_ultimate': {'ap': 0.0131, 'p_at_0.5pct': 0.0612, 'p_at_1.0pct': 0.0364, 'p_at_2.0pct': 0.024, 'p_at_5.0pct': 0.0178}, 'ensemble_top3': {'ap': 0.0174, 'p_at_0.5pct': 0.0641, 'p_at_1.0pct': 0.0685, 'p_at_2.0pct': 0.0452, 'p_at_5.0pct': 0.0259}}
  Avg community score (Louvain): 0.1947 | (Leiden): 0.1947
  PersonalizedPageRank PR-AUC: 0.0066
  🔍 PPR Debug: alpha=0.85, hops=5, bidir=False
     Computed 147 seeded_pr scores
     Sample scores: ['0.006896', '0.006896', '0.006896', '0.006896', '0.006896']
[2022-09-10 → 2022-09-13] nodes=21,246, edges=13,458
  Top methods: {'in_deg': {'ap': 0.0226, 'p_at_0.5pct': 0.0667, 'p_at_1.0pct': 0.0948, 'p_at_2.0pct': 0.0662, 'p_at_5.0pct': 0.0568}, 'pagerank_wlog': {'ap': 0.0229, 'p_at_0.5pct': 0.0286, 'p_at_1.0pct': 0.0758, 'p_at_2.0pct': 0.0733, 'p_at_5.0pct': 0.0426}, 'pattern_features': {'ap': 0.0145, 'p_at_0.5pct': 0.0095, 'p_at_1.0pct': 0.0047, 'p_at_2.0pct': 0.0024, 'p_at_5.0pct': 0.0019}, 'ensemble_ultimate': {'ap': 0.019, 'p_at_0.5pct': 0.0381, 'p_at_1.0pct': 0.0616, 'p_at_2.0pct': 0.0378, 'p_at_5.0pct': 0.018}, 'ensemble_top3': {'ap': 0.0245, 'p_at_0.5pct': 0.0667, 'p_at_1.0pct': 0.0806, 'p_at_2.0pct': 0.0686, 'p_at_5.0pct': 0.0511}}
  Avg community score (Louvain): 0.1341 | (Leiden): 0.1341
  PersonalizedPageRank PR-AUC: 0.0127
[2022-09-11 → 2022-09-14] Skipping window (no negatives in eval set).
[2022-09-12 → 2022-09-15] Skipping window (no negatives in eval set).
[2022-09-13 → 2022-09-16] Skipping window (no negatives in eval set).
[2022-09-14 → 2022-09-17] Skipping window (no negatives in eval set).
[2022-09-15 → 2022-09-18] Skipping window (no negatives in eval set).
[2022-09-16 → 2022-09-19] Skipping window (no negatives in eval set).
Skipped 6 degenerate windows for 3-day setting.

-- 7-day windows --
[2022-09-01 → 2022-09-08] nodes=113,513, edges=89,451
  Top methods: {'in_deg': {'ap': 0.0267, 'p_at_0.5pct': 0.0582, 'p_at_1.0pct': 0.074, 'p_at_2.0pct': 0.0714, 'p_at_5.0pct': 0.047}, 'pagerank_wlog': {'ap': 0.029, 'p_at_0.5pct': 0.0741, 'p_at_1.0pct': 0.0731, 'p_at_2.0pct': 0.0718, 'p_at_5.0pct': 0.0515}, 'pattern_features': {'ap': 0.0101, 'p_at_0.5pct': 0.0106, 'p_at_1.0pct': 0.0053, 'p_at_2.0pct': 0.004, 'p_at_5.0pct': 0.006}, 'ensemble_ultimate': {'ap': 0.0212, 'p_at_0.5pct': 0.0635, 'p_at_1.0pct': 0.0652, 'p_at_2.0pct': 0.0568, 'p_at_5.0pct': 0.0363}, 'ensemble_top3': {'ap': 0.0255, 'p_at_0.5pct': 0.0582, 'p_at_1.0pct': 0.0767, 'p_at_2.0pct': 0.0687, 'p_at_5.0pct': 0.0418}}
  Avg community score (Louvain): 0.2680 | (Leiden): 0.2678
[2022-09-02 → 2022-09-09] nodes=97,187, edges=76,468
  Top methods: {'in_deg': {'ap': 0.0295, 'p_at_0.5pct': 0.0598, 'p_at_1.0pct': 0.0731, 'p_at_2.0pct': 0.0767, 'p_at_5.0pct': 0.0556}, 'pagerank_wlog': {'ap': 0.0313, 'p_at_0.5pct': 0.0825, 'p_at_1.0pct': 0.0772, 'p_at_2.0pct': 0.0736, 'p_at_5.0pct': 0.0589}, 'pattern_features': {'ap': 0.0108, 'p_at_0.5pct': 0.0103, 'p_at_1.0pct': 0.0093, 'p_at_2.0pct': 0.0072, 'p_at_5.0pct': 0.0054}, 'ensemble_ultimate': {'ap': 0.0213, 'p_at_0.5pct': 0.0742, 'p_at_1.0pct': 0.0742, 'p_at_2.0pct': 0.0592, 'p_at_5.0pct': 0.0385}, 'ensemble_top3': {'ap': 0.0274, 'p_at_0.5pct': 0.066, 'p_at_1.0pct': 0.0783, 'p_at_2.0pct': 0.0757, 'p_at_5.0pct': 0.0488}}
  Avg community score (Louvain): 0.2763 | (Leiden): 0.2763
[2022-09-03 → 2022-09-10] nodes=91,448, edges=71,061
  Top methods: {'in_deg': {'ap': 0.0298, 'p_at_0.5pct': 0.0591, 'p_at_1.0pct': 0.0733, 'p_at_2.0pct': 0.0782, 'p_at_5.0pct': 0.0588}, 'pagerank_wlog': {'ap': 0.0316, 'p_at_0.5pct': 0.0744, 'p_at_1.0pct': 0.0733, 'p_at_2.0pct': 0.0728, 'p_at_5.0pct': 0.0621}, 'pattern_features': {'ap': 0.0112, 'p_at_0.5pct': 0.0175, 'p_at_1.0pct': 0.0109, 'p_at_2.0pct': 0.0055, 'p_at_5.0pct': 0.0046}, 'ensemble_ultimate': {'ap': 0.0201, 'p_at_0.5pct': 0.07, 'p_at_1.0pct': 0.0722, 'p_at_2.0pct': 0.0569, 'p_at_5.0pct': 0.0346}, 'ensemble_top3': {'ap': 0.0275, 'p_at_0.5pct': 0.0635, 'p_at_1.0pct': 0.0722, 'p_at_2.0pct': 0.0739, 'p_at_5.0pct': 0.054}}
  Avg community score (Louvain): 0.2590 | (Leiden): 0.2590
[2022-09-04 → 2022-09-11] nodes=91,369, edges=71,119
  Top methods: {'in_deg': {'ap': 0.0297, 'p_at_0.5pct': 0.0592, 'p_at_1.0pct': 0.0712, 'p_at_2.0pct': 0.0761, 'p_at_5.0pct': 0.0567}, 'pagerank_wlog': {'ap': 0.0313, 'p_at_0.5pct': 0.0592, 'p_at_1.0pct': 0.0701, 'p_at_2.0pct': 0.0755, 'p_at_5.0pct': 0.0615}, 'pattern_features': {'ap': 0.0127, 'p_at_0.5pct': 0.0154, 'p_at_1.0pct': 0.0099, 'p_at_2.0pct': 0.0055, 'p_at_5.0pct': 0.0046}, 'ensemble_ultimate': {'ap': 0.0216, 'p_at_0.5pct': 0.0614, 'p_at_1.0pct': 0.0723, 'p_at_2.0pct': 0.0624, 'p_at_5.0pct': 0.0383}, 'ensemble_top3': {'ap': 0.026, 'p_at_0.5pct': 0.0636, 'p_at_1.0pct': 0.0668, 'p_at_2.0pct': 0.0722, 'p_at_5.0pct': 0.051}}
  Avg community score (Louvain): 0.2588 | (Leiden): 0.2588
[2022-09-05 → 2022-09-12] nodes=87,298, edges=66,266
  Top methods: {'in_deg': {'ap': 0.0285, 'p_at_0.5pct': 0.0665, 'p_at_1.0pct': 0.0711, 'p_at_2.0pct': 0.0739, 'p_at_5.0pct': 0.0555}, 'pagerank_wlog': {'ap': 0.0297, 'p_at_0.5pct': 0.0734, 'p_at_1.0pct': 0.0734, 'p_at_2.0pct': 0.0716, 'p_at_5.0pct': 0.0559}, 'pattern_features': {'ap': 0.0118, 'p_at_0.5pct': 0.0161, 'p_at_1.0pct': 0.0115, 'p_at_2.0pct': 0.0063, 'p_at_5.0pct': 0.0057}, 'ensemble_ultimate': {'ap': 0.0204, 'p_at_0.5pct': 0.0734, 'p_at_1.0pct': 0.0722, 'p_at_2.0pct': 0.0585, 'p_at_5.0pct': 0.0344}, 'ensemble_top3': {'ap': 0.0253, 'p_at_0.5pct': 0.0711, 'p_at_1.0pct': 0.0722, 'p_at_2.0pct': 0.0688, 'p_at_5.0pct': 0.0481}}
  Avg community score (Louvain): 0.2485 | (Leiden): 0.2485
  🔍 PPR Debug: alpha=0.85, hops=5, bidir=False
     Computed 611 seeded_pr scores
     Sample scores: ['0.001880', '0.001880', '0.001880', '0.001598', '0.000250']
[2022-09-06 → 2022-09-13] nodes=82,953, edges=61,461
  Top methods: {'in_deg': {'ap': 0.0253, 'p_at_0.5pct': 0.063, 'p_at_1.0pct': 0.0702, 'p_at_2.0pct': 0.0684, 'p_at_5.0pct': 0.0484}, 'pagerank_wlog': {'ap': 0.0254, 'p_at_0.5pct': 0.0605, 'p_at_1.0pct': 0.0642, 'p_at_2.0pct': 0.066, 'p_at_5.0pct': 0.0465}, 'pattern_features': {'ap': 0.0106, 'p_at_0.5pct': 0.0097, 'p_at_1.0pct': 0.0061, 'p_at_2.0pct': 0.0036, 'p_at_5.0pct': 0.0046}, 'ensemble_ultimate': {'ap': 0.0177, 'p_at_0.5pct': 0.0726, 'p_at_1.0pct': 0.0666, 'p_at_2.0pct': 0.0527, 'p_at_5.0pct': 0.0293}, 'ensemble_top3': {'ap': 0.0226, 'p_at_0.5pct': 0.0702, 'p_at_1.0pct': 0.069, 'p_at_2.0pct': 0.0642, 'p_at_5.0pct': 0.0424}}
  Avg community score (Louvain): 0.2359 | (Leiden): 0.2359
  PersonalizedPageRank PR-AUC: 0.0152
  🔍 PPR Debug: alpha=0.85, hops=5, bidir=False
     Computed 566 seeded_pr scores
     Sample scores: ['0.002068', '0.002068', '0.002068', '0.002068', '0.002068']
[2022-09-07 → 2022-09-14] nodes=78,894, edges=56,726
  Top methods: {'in_deg': {'ap': 0.0237, 'p_at_0.5pct': 0.0789, 'p_at_1.0pct': 0.0789, 'p_at_2.0pct': 0.0732, 'p_at_5.0pct': 0.0427}, 'pagerank_wlog': {'ap': 0.0235, 'p_at_0.5pct': 0.056, 'p_at_1.0pct': 0.07, 'p_at_2.0pct': 0.0668, 'p_at_5.0pct': 0.0427}, 'pattern_features': {'ap': 0.0102, 'p_at_0.5pct': 0.0051, 'p_at_1.0pct': 0.0051, 'p_at_2.0pct': 0.0038, 'p_at_5.0pct': 0.0059}, 'ensemble_ultimate': {'ap': 0.0167, 'p_at_0.5pct': 0.0738, 'p_at_1.0pct': 0.0712, 'p_at_2.0pct': 0.0458, 'p_at_5.0pct': 0.0265}, 'ensemble_top3': {'ap': 0.0222, 'p_at_0.5pct': 0.0763, 'p_at_1.0pct': 0.0802, 'p_at_2.0pct': 0.0674, 'p_at_5.0pct': 0.0407}}
  Avg community score (Louvain): 0.2246 | (Leiden): 0.2246
  PersonalizedPageRank PR-AUC: 0.0126
  🔍 PPR Debug: alpha=0.85, hops=5, bidir=False
     Computed 515 seeded_pr scores
     Sample scores: ['0.002015', '0.002371', '0.002371', '0.002015', '0.001237']
[2022-09-08 → 2022-09-15] nodes=73,924, edges=51,170
  Top methods: {'in_deg': {'ap': 0.0216, 'p_at_0.5pct': 0.0815, 'p_at_1.0pct': 0.0815, 'p_at_2.0pct': 0.0672, 'p_at_5.0pct': 0.0345}, 'pagerank_wlog': {'ap': 0.0216, 'p_at_0.5pct': 0.0652, 'p_at_1.0pct': 0.0761, 'p_at_2.0pct': 0.0625, 'p_at_5.0pct': 0.0367}, 'pattern_features': {'ap': 0.009, 'p_at_0.5pct': 0.0054, 'p_at_1.0pct': 0.0068, 'p_at_2.0pct': 0.0061, 'p_at_5.0pct': 0.006}, 'ensemble_ultimate': {'ap': 0.0162, 'p_at_0.5pct': 0.0707, 'p_at_1.0pct': 0.0639, 'p_at_2.0pct': 0.0394, 'p_at_5.0pct': 0.0231}, 'ensemble_top3': {'ap': 0.022, 'p_at_0.5pct': 0.0815, 'p_at_1.0pct': 0.0802, 'p_at_2.0pct': 0.0618, 'p_at_5.0pct': 0.0361}}
  Avg community score (Louvain): 0.2099 | (Leiden): 0.2099
  PersonalizedPageRank PR-AUC: 0.0105
  🔍 PPR Debug: alpha=0.85, hops=5, bidir=False
     Computed 454 seeded_pr scores
     Sample scores: ['0.002653', '0.000413', '0.002653', '0.001306', '0.002255']
[2022-09-09 → 2022-09-16] nodes=68,963, edges=45,837
  Top methods: {'in_deg': {'ap': 0.0166, 'p_at_0.5pct': 0.0729, 'p_at_1.0pct': 0.067, 'p_at_2.0pct': 0.0437, 'p_at_5.0pct': 0.0256}, 'pagerank_wlog': {'ap': 0.0162, 'p_at_0.5pct': 0.0612, 'p_at_1.0pct': 0.0655, 'p_at_2.0pct': 0.0459, 'p_at_5.0pct': 0.0262}, 'pattern_features': {'ap': 0.0111, 'p_at_0.5pct': 0.0058, 'p_at_1.0pct': 0.0073, 'p_at_2.0pct': 0.0066, 'p_at_5.0pct': 0.007}, 'ensemble_ultimate': {'ap': 0.0148, 'p_at_0.5pct': 0.0641, 'p_at_1.0pct': 0.0393, 'p_at_2.0pct': 0.0247, 'p_at_5.0pct': 0.0201}, 'ensemble_top3': {'ap': 0.0175, 'p_at_0.5pct': 0.07, 'p_at_1.0pct': 0.0684, 'p_at_2.0pct': 0.0451, 'p_at_5.0pct': 0.0268}}
  Avg community score (Louvain): 0.1946 | (Leiden): 0.1946
  PersonalizedPageRank PR-AUC: 0.0076
  🔍 PPR Debug: alpha=0.85, hops=5, bidir=False
     Computed 147 seeded_pr scores
     Sample scores: ['0.006896', '0.006896', '0.006896', '0.006896', '0.006896']
[2022-09-10 → 2022-09-17] nodes=21,277, edges=13,495
  Top methods: {'in_deg': {'ap': 0.0238, 'p_at_0.5pct': 0.0762, 'p_at_1.0pct': 0.0853, 'p_at_2.0pct': 0.0662, 'p_at_5.0pct': 0.0727}, 'pagerank_wlog': {'ap': 0.0232, 'p_at_0.5pct': 0.0286, 'p_at_1.0pct': 0.0758, 'p_at_2.0pct': 0.0733, 'p_at_5.0pct': 0.0472}, 'pattern_features': {'ap': 0.0197, 'p_at_0.5pct': 0.0286, 'p_at_1.0pct': 0.019, 'p_at_2.0pct': 0.0095, 'p_at_5.0pct': 0.0057}, 'ensemble_ultimate': {'ap': 0.0223, 'p_at_0.5pct': 0.0381, 'p_at_1.0pct': 0.0711, 'p_at_2.0pct': 0.0449, 'p_at_5.0pct': 0.0217}, 'ensemble_top3': {'ap': 0.0252, 'p_at_0.5pct': 0.0667, 'p_at_1.0pct': 0.0806, 'p_at_2.0pct': 0.0686, 'p_at_5.0pct': 0.0538}}
  Avg community score (Louvain): 0.1343 | (Leiden): 0.1343
  PersonalizedPageRank PR-AUC: 0.0142
[2022-09-11 → 2022-09-18] Skipping window (no negatives in eval set).
[2022-09-12 → 2022-09-19] Skipping window (no negatives in eval set).
[2022-09-13 → 2022-09-20] Skipping window (no negatives in eval set).
[2022-09-14 → 2022-09-21] Skipping window (no negatives in eval set).
[2022-09-15 → 2022-09-22] Skipping window (no negatives in eval set).
[2022-09-16 → 2022-09-23] Skipping window (no negatives in eval set).
Skipped 6 degenerate windows for 7-day setting.

Saved per-window metrics to /content/drive/MyDrive/AML/processed/LI_Small/US_Dollar/metrics/window_metrics.csv

================================================================================
FINAL RESULTS SUMMARY (median across windows)
================================================================================
 window_days                    method  ap_median  p01_median  lift_p01_median  lift_eval_p01_median  attcov01_median  prevalence_median  windows
           3             ensemble_top3   0.023096    0.075199         8.194056              8.239000         0.085455           0.009869       10
           3          ensemble_diverse   0.022895    0.070312         7.439329              7.480944         0.063025           0.009869       10
           3             pagerank_wlog   0.022255    0.067444         7.199832              7.313113         0.064703           0.009869       10
           3                    in_deg   0.021682    0.074879         8.668877              8.806941         0.080338           0.009869       10
           3                     in_tx   0.017726    0.068910         7.545045              7.666556         0.080338           0.009869       10
           3         ensemble_ultimate   0.015734    0.061499         6.366298              6.417578         0.063333           0.009869       10
           3                   out_deg   0.015195    0.030862         3.075447              3.101479         0.292857           0.009869       10
           3                    in_amt   0.014901    0.010613         1.042325              1.042325         0.043135           0.009869       10
           3           ensemble_seeded   0.013737    0.047554         5.184526              5.270677         0.102564           0.008701        5
           3  communities_unsup_leiden   0.013102    0.009632         0.937044              0.945249         0.000000           0.009869       10
           3 communities_unsup_louvain   0.013102    0.008825         0.937044              0.945249         0.000000           0.009869       10
           3                   out_amt   0.012439    0.009854         1.117320              1.131450         0.080032           0.009869       10
           3                 collector   0.012215    0.005427         0.641615              0.650424         0.034524           0.009869       10
           3          ensemble_pattern   0.011852    0.035591         3.707996              3.781156         0.071096           0.009869       10
           3                 kcore_und   0.011089    0.031710         4.032320              4.062463         0.037075           0.009869       10
           3                  kcore_in   0.010592    0.036763         4.146906              4.189298         0.053340           0.009869       10
           3               distributor   0.010515    0.005051         0.698193              0.710354         0.045983           0.009869       10
           3                    out_tx   0.010484    0.017742         1.989255              2.007066         0.179744           0.009869       10
           3                 kcore_out   0.010093    0.030117         3.081561              3.106223         0.021568           0.009869       10
           3                 seeded_pr   0.010022    0.032520         3.737367              3.777318         0.230769           0.008701        5
           3          pattern_features   0.009796    0.005757         0.759632              0.769947         0.063333           0.009869       10
           3                 hits_auth   0.009788    0.010371         1.073380              1.085090         0.075700           0.009869       10
           3                  hits_hub   0.009788    0.010371         1.073380              1.085090         0.075700           0.009869       10
           3                    random   0.009788    0.009788         0.994712              1.000000         0.010000           0.009869       10
           7             pagerank_wlog   0.027189    0.073216         5.734371              5.786405         0.023821           0.012736       10
           7                    in_deg   0.025996    0.073212         6.096703              6.208211         0.094231           0.012736       10
           7          ensemble_diverse   0.025532    0.070787         5.500244              5.601082         0.076436           0.012736       10
           7             ensemble_top3   0.025251    0.074450         5.954537              6.009823         0.070720           0.012736       10
           7                   out_deg   0.022557    0.048325         3.721837              3.750990         0.421573           0.012736       10
           7         ensemble_ultimate   0.020243    0.071168         5.439232              5.502411         0.062415           0.012736       10
           7                    in_amt   0.019299    0.015801         1.169913              1.169913         0.070715           0.012736       10
           7                     in_tx   0.018692    0.060387         4.736559              4.782223         0.070720           0.012736       10
           7                   out_amt   0.017606    0.019002         1.350873              1.362746         0.090797           0.012736       10
           7  communities_unsup_leiden   0.016133    0.022569         1.708351              1.708351         0.038981           0.012736       10
           7                  kcore_in   0.016078    0.054424         4.707922              4.737250         0.056013           0.012736       10
           7 communities_unsup_louvain   0.015941    0.022182         1.745837              1.745837         0.038981           0.012736       10
           7                 collector   0.015041    0.007438         0.573304              0.573304         0.013086           0.012736       10
           7                 kcore_und   0.015006    0.031634         2.695961              2.713128         0.078784           0.012736       10
           7           ensemble_seeded   0.014744    0.048346         4.384298              4.462349         0.097561           0.011116        5
           7                    out_tx   0.014368    0.025812         2.098943              2.118121         0.248188           0.012736       10
           7          ensemble_pattern   0.014133    0.039028         3.200250              3.250417         0.085759           0.012736       10
           7                 kcore_out   0.013703    0.021770         2.020476              2.031206         0.018544           0.012736       10
           7               distributor   0.013225    0.008266         0.619248              0.624727         0.038127           0.012736       10
           7                 seeded_pr   0.012567    0.050272         5.441125              5.527415         0.365854           0.011116        5
           7                 hits_auth   0.012507    0.019478         1.591143              1.604018         0.167568           0.012736       10
           7                  hits_hub   0.012507    0.019478         1.591143              1.604018         0.167568           0.012736       10
           7                    random   0.012507    0.012507         0.993827              1.000000         0.010000           0.012736       10
           7          pattern_features   0.010983    0.008273         0.703337              0.703337         0.095243           0.012736       10

================================================================================
TOP PERFORMING METHODS
================================================================================

3-day windows (Top 10):
                  method  ap_median  p01_median  lift_eval_p01_median  attcov01_median
           ensemble_top3   0.023096    0.075199              8.239000         0.085455
        ensemble_diverse   0.022895    0.070312              7.480944         0.063025
           pagerank_wlog   0.022255    0.067444              7.313113         0.064703
                  in_deg   0.021682    0.074879              8.806941         0.080338
                   in_tx   0.017726    0.068910              7.666556         0.080338
       ensemble_ultimate   0.015734    0.061499              6.417578         0.063333
                 out_deg   0.015195    0.030862              3.101479         0.292857
                  in_amt   0.014901    0.010613              1.042325         0.043135
         ensemble_seeded   0.013737    0.047554              5.270677         0.102564
communities_unsup_leiden   0.013102    0.009632              0.945249         0.000000

7-day windows (Top 10):
                  method  ap_median  p01_median  lift_eval_p01_median  attcov01_median
           pagerank_wlog   0.027189    0.073216              5.786405         0.023821
                  in_deg   0.025996    0.073212              6.208211         0.094231
        ensemble_diverse   0.025532    0.070787              5.601082         0.076436
           ensemble_top3   0.025251    0.074450              6.009823         0.070720
                 out_deg   0.022557    0.048325              3.750990         0.421573
       ensemble_ultimate   0.020243    0.071168              5.502411         0.062415
                  in_amt   0.019299    0.015801              1.169913         0.070715
                   in_tx   0.018692    0.060387              4.782223         0.070720
                 out_amt   0.017606    0.019002              1.362746         0.090797
communities_unsup_leiden   0.016133    0.022569              1.708351         0.038981

================================================================================
COMMUNITY DETECTION SUMMARY
================================================================================
 window_days                    method  ap_median  modularity_median  num_communities_median  avg_comm_score_median  coverage_median  frac_laundering_median  windows
           3  communities_unsup_leiden   0.013102           0.999663                 19601.5               0.228220              1.0                0.011985       10
           3 communities_unsup_louvain   0.013102           0.999663                 19601.5               0.228302              1.0                0.011985       10
           7  communities_unsup_leiden   0.016133           0.999691                 24246.5               0.242202              1.0                0.017525       10
           7 communities_unsup_louvain   0.015941           0.999691                 24246.5               0.242202              1.0                0.017647       10

================================================================================
SUMMARY
================================================================================

================================================================================
FEATURE ABLATION ANALYSIS
================================================================================

Baseline methods (no pattern features):
          method  ap_median  p01_median
   pagerank_wlog   0.027189    0.073216
          in_deg   0.025996    0.073212
ensemble_diverse   0.025532    0.070787
           in_tx   0.018692    0.060387

Pattern-enhanced methods:
           method  ap_median  p01_median
ensemble_ultimate   0.020243    0.071168
 ensemble_pattern   0.014133    0.039028
 pattern_features   0.010983    0.008273

Pattern features improvement: -25.5%
⚠️  WARNING: Pattern features provide <5% improvement. May not be worth complexity.

Best Methods Comparison (7-day windows):
           method       AP     P@1%  Coverage@1%
    pagerank_wlog 0.027189 0.073216     0.023821
           in_deg 0.025996 0.073212     0.094231
ensemble_ultimate 0.020243 0.071168     0.062415
 ensemble_pattern 0.014133 0.039028     0.085759
           random 0.012507 0.012507     0.010000

Key Findings:
1. Best method: pagerank_wlog
2. AP improvement over random: 117.4%
3. Precision@1% improvement: 485.4%
4. Laundering schemes detected: 2.4%
5. Investigation efficiency: 5.9x lift
